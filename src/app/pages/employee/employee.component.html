


<div class="row">
    @if(!isEditable){
    <div class="col-12">
        <div class="card">
            <div class="card-header bg-success d-flex">
                Employee List
                <button class="btn btn-warning ms-auto" (click)="setEditable(!isEditable)">Add Employee</button>
            </div>
            <div class="card-body">
                <div class="col-12">
                    <table class="table table-bordered">
                        <thead>
                            <th>Index</th>
                            <th>Employee Name</th>
                            <th>Department Name</th>
                            <th>Contact Number</th>
                            <th>Email Id</th>
                            <th>Role</th>
                            <th>Action</th>
                        </thead>
                        <tbody>
                            @for(emp of employeeList;track $index){
                                <tr>
                                    <td>{{$index}}</td>
                                    <td>{{emp.employeeName}}</td>
                                    <td>{{emp.deptName}}</td>
                                    <td>{{emp.contactNo}}</td>
                                    <td>{{emp.emailId}}</td>
                                    <td>{{emp.role}}</td>
                                    <td class="text-center">
                                        <button class="btn btn-primary" (click)="onEdit(emp)">Edit</button>
                                        <button class="btn btn-danger mx-2" (click)="onDelete(emp.employeeId)">Delete</button>
                                    </td>
                                </tr>
                            }
                            
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    }
    @else{   
    <div class="col-12">
        <div class="card">
            <div class="card-header bg-success d-flex">
                New Employee
                <button class="btn btn-warning ms-auto" (click)="setEditable(!isEditable)">Employee List</button>
            </div>
            <div class="card-body">
                <form [formGroup]="employeeForm" (submit)="saveEmployee()">
                    <div class="row">
                        <div class="col-6">
                            <label for="">Employee Name</label>
                            <input type="text" class="form-control" formControlName="employeeName"/>
                        </div>
                        
                        <div class="col-6">
                            <label for="">Contact Number</label>
                            <input type="text" class="form-control" formControlName="contactNo"/>
                        </div>
                        <div class="col-6">
                            <label for="">Email Id</label>
                            <input type="text" class="form-control" formControlName="emailId"/>
                        </div>
                        
                        <div class="col-6">
                            <label for="">Department</label>
                            <select name="" id="" formControlName="deptId" class="form-select">
                                @for(dept of deptList; track $index){
                                    <option [value]="dept.deptId">{{dept.deptName}}</option>
                                }
                            </select>
                        </div>
                        <div class="col-6">
                            <label for="">Password</label>
                            <input type="text" class="form-control" formControlName="password"/>
                        </div>
                        
                        <div class="col-6">
                            <!-- <label for="">Gender</label> -->
                            <input type="radio" class="form-check-label" value="Male" formControlName="gender"/>
                            <label class="form-check-label" for="inlineRadio1">Male</label>
                            <input type="radio" class="form-check-label" value="Fe-Male" formControlName="gender"/>
                            <label class="form-check-label" for="inlineRadio1">Female</label>
                        </div>

                        <div class="col-6">
                            <label for="">Role</label>
                            <select name="" id="" class="form-select" formControlName="role">
                                @for(role of roleList;track $index){
                                    <option [value]="role">{{role}}</option>
                                }
                            </select>
                        </div>
                        
                        
                    </div>
                    <div class="row pt-3">
                        <div class="col-6 text-center">
                            @if(isCreate){
                                <button class="btn btn-secondary" (click)="resetForm()">Reset</button>
                            }
                            @else {
                                <button class="btn btn-danger" (click)="setEditable(!isEditable)">Cancel</button>
                            }
                            
                        </div>
                        <div class="col-6 text-center">
                            @if(!isCreate){
                                
                                <button class="btn btn-success" type="submit">Update Employee</button>
                            }
                            @else {
                                
                                <button class="btn btn-success" type="submit">Save Employee</button>
                            }
                            
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
}
</div>

